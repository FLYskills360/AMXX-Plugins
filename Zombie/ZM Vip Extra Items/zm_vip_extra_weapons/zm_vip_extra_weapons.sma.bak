/* Plugin generated by AMXX-Studio */

#include <amxmodx>
#include <hamsandwich>
#include <fun>
#include <cstrike>
#include <zmvip>

// IMPORTANT: You should enable weapons only witch you need, not all.
// Uncomment weapon if you want to add it to menu.
// ON/OFF || Wepon     || * damage increase 

#define P228		1.5
//#define SCOUT		1.5
//#define XM1014	1.5
//#define MAC10		1.5
//#define AUG		1.5
//#define ELITE		1.5
//#define FIVESEVEN	1.5
//#define UMP45		1.5
//#define SG550		1.5
//#define GALI		1.5
//#define FAMAS		1.5
//#define USP		1.5
//#define GLOCK18	1.5
//#define AWP		1.5
//#define MP5NAVY	1.5
//#define M249		1.5
//#define M3		1.5
//#define M4A1		1.5
//#define TMP		1.5
//#define G3SG1		1.5
//#define DEAGLE	1.5
//#define SG552		1.5
//#define AK47		1.5
//#define P90		1.5

#define PLUGIN "Plugin"
#define VERSION "1.0"
#define AUTHOR "aaarnas"

#if defined P228
	new p228[33], item1
#endif
#if defined SCOUT
	new scout[33], item2
#endif
#if defined XM1014
	new xm1014[33], item3
#endif
#if defined MAC10
	new mac_10[33], item4
#endif
#if defined AUG
	new aug[33], item5
#endif
#if defined ELITE
	new dual_elites[33], item6
#endif
#if defined FIVESEVEN
	new five_seven[33], item7
#endif
#if defined UMP45
	new ump45[33], item8
#endif
#if defined SG550
	new sig_550[33], item9
#endif
#if defined GALI
	new galil[33], item10
#endif
#if defined FAMAS
	new famas[33], item11
#endif
#if defined USP
	new usp[33], item12
#endif
#if defined GLOCK18
	new glock[33], item13
#endif
#if defined AWP
	new awp[33], item14
#endif
#if defined MP5NAVY
	new mp5[33], item15
#endif
#if defined M249
	new m249[33], item16
#endif
#if defined M3
	new m3[33], item17
#endif
#if defined M4A1
	new m4a1[33], item18
#endif
#if defined TMP
	new tmp[33], item19
#endif
#if defined G3SG1
	new g3_sg_1[33], item20
#endif
#if defined DEAGLE
	new desert_eagle[33], item21
#endif
#if defined SG552
	new sig_552[33], item22
#endif
#if defined AK47
	new ak_47[33], item23
#endif
#if defined P90
	new p90[33], item24
#endif

new maxplayers
public plugin_init() {
	register_plugin(PLUGIN, VERSION, AUTHOR)
	RegisterHam(Ham_TakeDamage, "player", "TakeDamage")
	register_event("HLTV", "RoundStart", "a", "1=0", "2=0")
	RegisterHam(Ham_Killed, "player", "PlayerKilled")
	maxplayers = get_maxplayers()
#if defined P228
	item1 = zv_register_extra_item("Buy weapon Sig P228", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined SCOUT
	item2 = zv_register_extra_item("Buy weapon Scout", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined XM1014
	item3 = zv_register_extra_item("Buy weapon XM1014", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined MAC10
	item4 = zv_register_extra_item("Buy weapon MAC-10", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined AUG
	item5 = zv_register_extra_item("Buy weapon Aug", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined ELITE
	item6 = zv_register_extra_item("Buy weapon Dual Elites", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined FIVESEVEN
	item7 = zv_register_extra_item("Buy weapon Five-Seven", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined UMP45
	item8 = zv_register_extra_item("Buy weapon UMP45", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined SG550
	item9 = zv_register_extra_item("Buy weapon Sig 550", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined GALI
	item10 = zv_register_extra_item("Buy weapon Galil", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined FAMAS
	item11 = zv_register_extra_item("Buy weapon Famas", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined USP
	item12 = zv_register_extra_item("Buy weapon USP", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined GLOCK18
	item13 = zv_register_extra_item("Buy weapon Glock", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined AWP
	item14 = zv_register_extra_item("Buy weapon Awp", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined MP5NAVY
	item15 = zv_register_extra_item("Buy weapon MP5", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined M249
	item16 = zv_register_extra_item("Buy weapon M249", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined M3
	item17 = zv_register_extra_item("Buy weapon M3", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined M4A1
	item18 = zv_register_extra_item("Buy weapon M4A1", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined TMP
	item19 = zv_register_extra_item("Buy weapon TMP", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined G3SG1
	item20 = zv_register_extra_item("Buy weapon G3/SG-1", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined DEAGLE
	item21 = zv_register_extra_item("Buy weapon Desert Eagle", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined SG552
	item22 = zv_register_extra_item("Buy weapon Sig 552", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined AK47
	item23 = zv_register_extra_item("Buy weapon AK-47", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
#if defined P90
	item24 = zv_register_extra_item("Buy weapon P90", "Extra damage", 10, ZV_TEAM_HUMAN)
#endif
}

public zv_extra_item_selected(id, itemid) {
	
#if defined P228
	if(itemid == item1) {
		p228[id] = true
		give_item(id, "weapon_p228")
		cs_set_user_bpammo(id, CSW_P228, 90)
	}
#endif
#if defined SCOUT
	if(itemid == item2) {
		scout[id] = true
		give_item(id, "weapon_scout")
		cs_set_user_bpammo(id, CSW_SCOUT, 90)
	}
#endif
#if defined XM1014
	if(itemid == item3) {
		xm1014[id] = true
		give_item(id, "weapon_xm1014")
		cs_set_user_bpammo(id, CSW_XM1014, 90)
	}
#endif
#if defined MAC10
	if(itemid == item4) {
		mac_10[id] = true
		give_item(id, "weapon_mac10")
		cs_set_user_bpammo(id, CSW_MAC10, 90)
	}
#endif
#if defined AUG
	if(itemid == item5) {
		aug[id] = true
		give_item(id, "weapon_mac10")
		cs_set_user_bpammo(id, CSW_AUG, 90)
	}
#endif
#if defined ELITE
	if(itemid == item6) {
		dual_elites[id] = true
		give_item(id, "weapon_elite")
		cs_set_user_bpammo(id, CSW_ELITE, 90)
	}
#endif
#if defined FIVESEVEN
	if(itemid == item7) {
		five_seven[id] = true
		give_item(id, "weapon_fiveseven")
		cs_set_user_bpammo(id, CSW_FIVESEVEN, 90)
	}
#endif
#if defined UMP45
	if(itemid == item8) {
		ump45[id] = true
		give_item(id, "weapon_ump45")
		cs_set_user_bpammo(id, CSW_UMP45, 90)
	}
#endif
#if defined SG550
	if(itemid == item9) {
		sig_550[id] = true
		give_item(id, "weapon_sg550")
		cs_set_user_bpammo(id, CSW_SG550, 90)
	}
#endif
#if defined GALI
	if(itemid == item10) {
		galil[id] = true
		give_item(id, "weapon_galil")
		cs_set_user_bpammo(id, CSW_GALI, 90)
	}
#endif
#if defined FAMAS
	if(itemid == item11) {
		famas[id] = true
		give_item(id, "weapon_famas")
		cs_set_user_bpammo(id, CSW_FAMAS, 90)
	}
#endif
#if defined USP
	if(itemid == item12) {
		usp[id] = true
		give_item(id, "weapon_usp")
		cs_set_user_bpammo(id, CSW_USP, 90)
	}
#endif
#if defined GLOCK18
	if(itemid == item13) {
		glock[id] = true
		give_item(id, "weapon_glock18")
		cs_set_user_bpammo(id, CSW_GLOCK18, 90)
	}
#endif
#if defined AWP
	if(itemid == item14) {
		awp[id] = true
		give_item(id, "weapon_awp")
		cs_set_user_bpammo(id, CSW_AWP, 90)
	}
#endif
#if defined MP5NAVY
	if(itemid == item15) {
		mp5[id] = true
		give_item(id, "weapon_mp5navy")
		cs_set_user_bpammo(id, CSW_MP5NAVY, 90)
	}
#endif
#if defined M249
	if(itemid == item16) {
		m249[id] = true
		give_item(id, "weapon_m249")
		cs_set_user_bpammo(id, CSW_M249, 90)
	}
#endif
#if defined M3
	if(itemid == item17) {
		m3[id] = true
		give_item(id, "weapon_m3")
		cs_set_user_bpammo(id, CSW_M3, 90)
	}
#endif
#if defined M4A1
	if(itemid == item18) {
		m4a1[id] = true
		give_item(id, "weapon_m4a1")
		cs_set_user_bpammo(id, CSW_M4A1, 90)
	}
#endif
#if defined TMP
	if(itemid == item19) {
		tmp[id] = true
		give_item(id, "weapon_tmp")
		cs_set_user_bpammo(id, CSW_TMP, 90)
	}
#endif
#if defined G3SG1
	if(itemid == item20) {
		g3_sg_1[id] = true
		give_item(id, "weapon_g3sg1")
		cs_set_user_bpammo(id, CSW_G3SG1, 90)
	}
#endif
#if defined DEAGLE
	if(itemid == item21) {
		desert_eagle[id] = true
		give_item(id, "weapon_deagle")
		cs_set_user_bpammo(id, CSW_DEAGLE, 90)
	}
#endif
#if defined SG552
	if(itemid == item22) {
		sig_552[id] = true
		give_item(id, "weapon_sg552")
		cs_set_user_bpammo(id, CSW_SG552, 90)
	}
#endif
#if defined AK47
	if(itemid == item23) {
		ak_47[id] = true
		give_item(id, "weapon_ak47")
		cs_set_user_bpammo(id, CSW_AK47, 90)
	}
#endif
#if defined P90
	if(itemid == item24) {
		p90[id] = true
		give_item(id, "weapon_p90")
		cs_set_user_bpammo(id, CSW_P90, 90)
	}
#endif
}

public TakeDamage(victim, inflictor, attacker, Float:damage, damage_type) {
	
	if(victim == attacker && !(1 <= attacker <= maxplayers)) return HAM_IGNORED;
	
	static weapon
	weapon = get_user_weapon(attacker)
#if defined P228
	if(p228[attacker] && weapon == CSW_P228) {
		damage*=P228
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined SCOUT
	if(scout[attacker] && weapon == CSW_SCOUT) {
		damage*=SCOUT
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined XM1014
	if(xm1014[attacker] && weapon == CSW_XM1014) {
		damage*=XM1014
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined MAC10
	if(mac_10[attacker] && weapon == CSW_MAC10) {
		damage*=MAC10
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined AUG
	if(aug[attacker] && weapon == CSW_AUG) {
		damage*=AUG
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined ELITE
	if(dual_elites[attacker] && weapon == CSW_ELITE) {
		damage*=ELITE
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined FIVESEVEN
	if(five_seven[attacker] && weapon == CSW_FIVESEVEN) {
		damage*=FIVESEVEN
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined UMP45
	if(ump45[attacker] && weapon == CSW_UMP45) {
		damage*=UMP45
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined SG550
	if(sig_550[attacker] && weapon == CSW_SG550) {
		damage*=SG550
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined GALI
	if(galil[attacker] && weapon == CSW_GALI) {
		damage*=GALI
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined FAMAS
	if(famas[attacker] && weapon == CSW_FAMAS) {
		damage*=FAMAS
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined USP
	if(usp[attacker] && weapon == CSW_USP) {
		damage*=USP
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined GLOCK18
	if(glock[attacker] && weapon == CSW_GLOCK18) {
		damage*=GLOCK18
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined AWP
	if(awp[attacker] && weapon == CSW_AWP) {
		damage*=AWP
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined MP5NAVY
	if(mp5[attacker] && weapon == CSW_MP5NAVY) {
		damage*=MP5NAVY
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined M249
	if(m249[attacker] && weapon == CSW_M249) {
		damage*=M249
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined M3
	if(m3[attacker] && weapon == CSW_M3) {
		damage*=M3
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined M4A1
	if(m4a1[attacker] && weapon == CSW_M4A1) {
		damage*=M4A1
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined TMP
	if(tmp[attacker] && weapon == CSW_TMP) {
		damage*=TMP
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined G3SG1
	if(g3_sg_1[attacker] && weapon == CSW_G3SG1) {
		damage*=G3SG1
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined DEAGLE
	if(desert_eagle[attacker] && weapon == CSW_DEAGLE) {
		damage*=DEAGLE
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined SG552
	if(sig_552[attacker] && weapon == CSW_SG552) {
		damage*=SG552
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined AK47
	if(ak_47[3attacker] && weapon == CSW_AK47) {
		damage*=AK47
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
#if defined P90
	if(p90[attacker] && weapon == CSW_P90) {
		damage*=P90
		SetHamParamFloat(4, damage)
		return HAM_HANDLED
	}
#endif
	return HAM_IGNORED
}

public PlayerKilled(victim, attacker) {
	
#if defined P228
	p228[victim] = false
#endif
#if defined SCOUT
	scout[victim] = false
#endif
#if defined XM1014
	xm1014[victim] = false
#endif
#if defined MAC10
	mac_10[victim] = false
#endif
#if defined AUG
	aug[victim] = false
#endif
#if defined ELITE
	dual_elites[victim] = false
#endif
#if defined FIVESEVEN
	five_seven[victim] = false
#endif
#if defined UMP45
	ump45[victim] = false
#endif
#if defined SG550
	sig_550[victim] = false
#endif
#if defined GALI
	galil[victim] = false
#endif
#if defined FAMAS
	famas[victim] = false
#endif
#if defined USP
	usp[victim] = false
#endif
#if defined GLOCK18
	glock[victim] = false
#endif
#if defined AWP
	awp[victim] = false
#endif
#if defined MP5NAVY
	mp5[victim] = false
#endif
#if defined M249
	m249[victim] = false
#endif
#if defined M3
	m3[victim] = false
#endif
#if defined M4A1
	m4a1[victim] = false
#endif
#if defined TMP
	tmp[victim] = false
#endif
#if defined G3SG1
	g3_sg_1[victim] = false
#endif
#if defined DEAGLE
	desert_eagle[victim] = false
#endif
#if defined SG552
	sig_552[victim] = false
#endif
#if defined AK47
	ak_47[victim] = false
#endif
#if defined P90
	p90[victim] = false
#endif
}


public RoundStart() {

#if defined P228
	arrayset(p228, false, 32)
#endif
#if defined SCOUT
	arrayset(scout, false, 32)
#endif
#if defined XM1014
	arrayset(xm1014, false, 32)
#endif
#if defined MAC10
	arrayset(mac_10, false, 32)
#endif
#if defined AUG
	arrayset(aug, false, 32)
#endif
#if defined ELITE
	arrayset(dual_elites, false, 32)
#endif
#if defined FIVESEVEN
	arrayset(five_seven, false, 32)
#endif
#if defined UMP45
	arrayset(ump45, false, 32)
#endif
#if defined SG550
	arrayset(sig_550, false, 32)
#endif
#if defined GALI
	arrayset(galil, false, 32)
#endif
#if defined FAMAS
	arrayset(famas, false, 32)
#endif
#if defined USP
	arrayset(usp, false, 32)
#endif
#if defined GLOCK18
	arrayset(glock, false, 32)
#endif
#if defined AWP
	arrayset(awp, false, 32)
#endif
#if defined MP5NAVY
	arrayset(mp5, false, 32)
#endif
#if defined M249
	arrayset(m249, false, 32)
#endif
#if defined M3
	arrayset(m3, false, 32)
#endif
#if defined M4A1
	arrayset(m4a1, false, 32)
#endif
#if defined TMP
	arrayset(tmp, false, 32)
#endif
#if defined G3SG1
	arrayset(g3_sg_1, false, 32)
#endif
#if defined DEAGLE
	arrayset(desert_eagle, false, 32)
#endif
#if defined SG552
	arrayset(sig_552, false, 32)
#endif
#if defined AK47
	arrayset(ak_47, false, 32)
#endif
#if defined P90
	arrayset(p90, false, 32)
#endif
}

public client_connect(victim) {
	
#if defined P228
	p228[victim] = false
#endif
#if defined SCOUT
	scout[victim] = false
#endif
#if defined XM1014
	xm1014[victim] = false
#endif
#if defined MAC10
	mac_10[victim] = false
#endif
#if defined AUG
	aug[victim] = false
#endif
#if defined ELITE
	dual_elites[victim] = false
#endif
#if defined FIVESEVEN
	five_seven[victim] = false
#endif
#if defined UMP45
	ump45[victim] = false
#endif
#if defined SG550
	sig_550[victim] = false
#endif
#if defined GALI
	galil[victim] = false
#endif
#if defined FAMAS
	famas[victim] = false
#endif
#if defined USP
	usp[victim] = false
#endif
#if defined GLOCK18
	glock[victim] = false
#endif
#if defined AWP
	awp[victim] = false
#endif
#if defined MP5NAVY
	mp5[victim] = false
#endif
#if defined M249
	m249[victim] = false
#endif
#if defined M3
	m3[victim] = false
#endif
#if defined M4A1
	m4a1[victim] = false
#endif
#if defined TMP
	tmp[victim] = false
#endif
#if defined G3SG1
	g3_sg_1[victim] = false
#endif
#if defined DEAGLE
	desert_eagle[victim] = false
#endif
#if defined SG552
	sig_552[victim] = false
#endif
#if defined AK47
	ak_47[victim] = false
#endif
#if defined P90
	p90[victim] = false
#endif
}
